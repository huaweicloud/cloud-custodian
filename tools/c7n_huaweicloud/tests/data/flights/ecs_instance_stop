interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Host:
      - ecs.ap-southeast-1.myhuaweicloud.com
      User-Agent:
      - huaweicloud-usdk-python/3.0
      X-Project-Id:
      - ap-southeat-1
      X-Sdk-Date:
      - 20250322T044809Z
    method: GET
    uri: https://ecs.ap-southeast-1.myhuaweicloud.com/v1/ap-southeat-1/cloudservers/detail?limit=100&offset=0
  response:
    body:
      string: '{"servers":[{"status":"ACTIVE","updated":"2025-03-21T04:59:09Z","auto_terminate_time":"","hostId":"5703b16656de25c742755d1677eb473a9fd3b8b24c618f9876a34803","OS-EXT-SRV-ATTR:host":"5703b16656de25c742755d1677eb473a9fd3b8b24c618f9876a34803","addresses":{"24bbb54c-659f-4141-8db9-a957e12b6ee8":[{"version":"4","primary":true,"addr":"192.168.5.47","OS-EXT-IPS:type":"fixed","OS-EXT-IPS-MAC:mac_addr":"fa:16:3e:90:ed:17","OS-EXT-IPS:port_id":"4ed1fc61-422c-4032-9535-391d779dcdea"}]},"image":{"id":"51a76dc4-0a0c-4e7c-bb01-d9dbaabe1441"},"OS-EXT-STS:vm_state":"active","OS-EXT-SRV-ATTR:instance_name":"instance-01e69ff5","OS-EXT-SRV-ATTR:hypervisor_hostname":"5703b16656de25c742755d1677eb473a9fd3b8b24c618f9876a34803","flavor":{"id":"x1.1u.1g","name":"x1.1u.1g","disk":"0","vcpus":"1","ram":"1024","gpus":[],"asic_accelerators":[]},"id":"073cf448-2589-4552-b782-5436ac4d32b1","security_groups":[{"name":"default","id":"21acfb26-36cd-4aa4-b42e-fe3f88bd588c"}],"OS-EXT-AZ:availability_zone":"cn-east-3a","user_id":"0b3ade293280f3614f2bc00500a76bd4","name":"ecs-2190","created":"2025-03-21T03:29:20Z","tenant_id":"0b3ade290700f3612f29c005b9d1eaf6","OS-DCF:diskConfig":"MANUAL","accessIPv4":"","accessIPv6":"","progress":0,"OS-EXT-STS:power_state":1,"config_drive":"","metadata":{"image_name":"Huawei
        Cloud EulerOS 2.0 Standard 64 bit","metering.resourcespeccode":"x1.1u.1g.linux","charging_mode":"0","vpc_id":"24bbb54c-659f-4141-8db9-a957e12b6ee8","os_version":"Huawei
        Cloud EulerOS 2.0 64bit","os_type":"Linux","metering.resourcetype":"1","metering.image_id":"51a76dc4-0a0c-4e7c-bb01-d9dbaabe1441","os_bit":"64","__support_agent_list":"hss,ces","cascaded.instance_extrainfo":"pcibridge:1,virtio_bus_count:8","metering.imagetype":"gold"},"OS-SRV-USG:launched_at":"2025-03-21T03:29:31.000000","os-extended-volumes:volumes_attached":[{"id":"95bf4d72-3724-41d6-886b-9a034d0b502b","delete_on_termination":"True","bootIndex":"0","device":"/dev/vda"}],"description":"","host_status":"UP","OS-EXT-SRV-ATTR:hostname":"ecs-2190","OS-EXT-SRV-ATTR:reservation_id":"r-2u0tvg8p","OS-EXT-SRV-ATTR:launch_index":0,"OS-EXT-SRV-ATTR:kernel_id":"","OS-EXT-SRV-ATTR:ramdisk_id":"","OS-EXT-SRV-ATTR:root_device_name":"/dev/vda","OS-EXT-SRV-ATTR:user_data":"dXNlcj13dWxlbGU=","locked":false,"tags":["_sys_root_resource_id=073cf448-2589-4552-b782-5436ac4d32b1","_sys_root_resource_type=hws.resource.type.vm","_sys_type_hcss_x"],"os:scheduler_hints":{},"enterprise_project_id":"0","sys_tags":[{"key":"_sys_enterprise_project_id","value":"0"}],"cpu_options":{}},{"status":"ACTIVE","updated":"2025-03-21T06:16:50Z","auto_terminate_time":"","hostId":"fa323d7eeb1f14153c41622be6972214e134ecb2c5cc50812033f384","OS-EXT-SRV-ATTR:host":"fa323d7eeb1f14153c41622be6972214e134ecb2c5cc50812033f384","addresses":{"24bbb54c-659f-4141-8db9-a957e12b6ee8":[{"version":"4","primary":true,"addr":"192.168.5.2","OS-EXT-IPS:type":"fixed","OS-EXT-IPS-MAC:mac_addr":"fa:16:3e:90:ed:ea","OS-EXT-IPS:port_id":"342d66f6-c512-4e87-a665-30568c256894"},{"version":"4","primary":true,"addr":"60.204.146.220","OS-EXT-IPS:type":"floating","OS-EXT-IPS-MAC:mac_addr":"fa:16:3e:90:ed:ea","OS-EXT-IPS:port_id":"342d66f6-c512-4e87-a665-30568c256894"}]},"image":{"id":"2d25ed0b-0392-4921-b457-d1451809a07c"},"OS-EXT-STS:vm_state":"active","OS-EXT-SRV-ATTR:instance_name":"instance-01e63358","OS-EXT-SRV-ATTR:hypervisor_hostname":"fa323d7eeb1f14153c41622be6972214e134ecb2c5cc50812033f384","flavor":{"id":"c6.xlarge.4","name":"c6.xlarge.4","disk":"0","vcpus":"4","ram":"16384","gpus":[],"asic_accelerators":[]},"id":"221c294a-cff3-444f-8bec-24566e24b89f","security_groups":[{"name":"default","id":"21acfb26-36cd-4aa4-b42e-fe3f88bd588c"}],"OS-EXT-AZ:availability_zone":"cn-east-3a","user_id":"322e4c075b9a4df085332a9e485039ae","name":"ITAU-\u52ff\u5220-30030133","created":"2025-03-20T02:41:42Z","tenant_id":"0b3ade290700f3612f29c005b9d1eaf6","OS-DCF:diskConfig":"MANUAL","accessIPv4":"","accessIPv6":"","progress":0,"OS-EXT-STS:power_state":1,"config_drive":"","metadata":{"charging_mode":"0","vpc_id":"24bbb54c-659f-4141-8db9-a957e12b6ee8","metering.productcode":"e10d539e-be5d-45ca-8cb5-468c3f5bef70.4c","os_version":"Windows
        Server 2019 Datacenter 64bit","bandwidth_id":"b4d8a678-4a23-4280-8113-a89c961cc074","metering.imagetype":"private","image_name":"itau","bandwidth_size":"5","metering.resourcespeccode":"c6.xlarge.4.win","os_type":"Windows","metering.resourcetype":"1","metering.image_id":"2d25ed0b-0392-4921-b457-d1451809a07c","os_bit":"64","eip_id":"4efb9147-867e-47fc-a8d6-40a26f76c03c","cascaded.instance_extrainfo":"pcibridge:1,virtio_bus_count:16,clock_adjustment:28800"},"OS-SRV-USG:launched_at":"2025-03-20T02:42:11.000000","os-extended-volumes:volumes_attached":[{"id":"f7778148-c79d-43ce-a1c4-e5d6f06afee4","delete_on_termination":"True","bootIndex":"0","device":"/dev/vda"}],"description":"","host_status":"UP","OS-EXT-SRV-ATTR:hostname":"itau-30030133","OS-EXT-SRV-ATTR:reservation_id":"r-gm035g9p","OS-EXT-SRV-ATTR:launch_index":0,"OS-EXT-SRV-ATTR:kernel_id":"","OS-EXT-SRV-ATTR:ramdisk_id":"","OS-EXT-SRV-ATTR:root_device_name":"/dev/vda","locked":false,"tags":["_sys_root_resource_id=221c294a-cff3-444f-8bec-24566e24b89f","_sys_root_resource_type=hws.resource.type.vm"],"os:scheduler_hints":{},"enterprise_project_id":"f6f87331-2b2e-4f52-a9a0-3158c9f980f2","sys_tags":[{"key":"_sys_enterprise_project_id","value":"f6f87331-2b2e-4f52-a9a0-3158c9f980f2"}],"cpu_options":{}},{"status":"ACTIVE","updated":"2025-03-20T20:00:05Z","auto_terminate_time":"","hostId":"e6a45a4836ee5399b9fef44e721a2846bde9b0832dfd317006deb55c","OS-EXT-SRV-ATTR:host":"e6a45a4836ee5399b9fef44e721a2846bde9b0832dfd317006deb55c","addresses":{"24bbb54c-659f-4141-8db9-a957e12b6ee8":[{"version":"4","primary":true,"addr":"192.168.5.154","OS-EXT-IPS:type":"fixed","OS-EXT-IPS-MAC:mac_addr":"fa:16:3e:90:ed:82","OS-EXT-IPS:port_id":"17ddca45-e5ad-47b7-bd06-495282130dd8"},{"version":"4","primary":true,"addr":"1.94.148.30","OS-EXT-IPS:type":"floating","OS-EXT-IPS-MAC:mac_addr":"fa:16:3e:90:ed:82","OS-EXT-IPS:port_id":"17ddca45-e5ad-47b7-bd06-495282130dd8"}]},"image":{"id":"2d25ed0b-0392-4921-b457-d1451809a07c"},"OS-EXT-STS:vm_state":"active","OS-EXT-SRV-ATTR:instance_name":"instance-01e52c2f","OS-EXT-SRV-ATTR:hypervisor_hostname":"3ff8494d06dde73f519390aabbb4364018135ae9095991ff27f19327","flavor":{"id":"c6.xlarge.4","name":"c6.xlarge.4","disk":"0","vcpus":"4","ram":"16384","gpus":[],"asic_accelerators":[]},"id":"c8bc054f-8a56-4223-a0b1-937ed69ef7fc","security_groups":[{"name":"default","id":"21acfb26-36cd-4aa4-b42e-fe3f88bd588c"}],"OS-EXT-AZ:availability_zone":"cn-east-3a","user_id":"d05c865d00cb458194ff660af1942f93","name":"ITAU\u5f00\u53d1_\u52ff\u5220_y30036712","created":"2025-03-17T12:38:25Z","tenant_id":"0b3ade290700f3612f29c005b9d1eaf6","OS-DCF:diskConfig":"MANUAL","accessIPv4":"","accessIPv6":"","progress":0,"OS-EXT-STS:power_state":1,"config_drive":"","metadata":{"charging_mode":"0","vpc_id":"24bbb54c-659f-4141-8db9-a957e12b6ee8","metering.productcode":"e10d539e-be5d-45ca-8cb5-468c3f5bef70.4c","os_version":"Windows
        Server 2019 Datacenter 64bit","bandwidth_id":"e7992d53-5d60-4da8-a2f4-faf84bd991ad","metering.imagetype":"private","image_name":"itau","bandwidth_size":"5","metering.resourcespeccode":"c6.xlarge.4.win","os_type":"Windows","metering.resourcetype":"1","metering.image_id":"2d25ed0b-0392-4921-b457-d1451809a07c","os_bit":"64","eip_id":"878e4b56-e3f0-49ce-b9c0-3218fe8dead0","cascaded.instance_extrainfo":"clock_adjustment:28800,pcibridge:1,virtio_bus_count:8"},"OS-SRV-USG:launched_at":"2025-03-17T12:38:40.000000","os-extended-volumes:volumes_attached":[{"id":"59cad78b-5bd0-4959-af65-091990864999","delete_on_termination":"True","bootIndex":"0","device":"/dev/sda"}],"description":"","host_status":"UP","OS-EXT-SRV-ATTR:hostname":"ecs-3345","OS-EXT-SRV-ATTR:reservation_id":"r-y3d517rh","OS-EXT-SRV-ATTR:launch_index":0,"OS-EXT-SRV-ATTR:kernel_id":"","OS-EXT-SRV-ATTR:ramdisk_id":"","OS-EXT-SRV-ATTR:root_device_name":"/dev/sda","locked":false,"tags":["_sys_root_resource_id=c8bc054f-8a56-4223-a0b1-937ed69ef7fc","_sys_root_resource_type=hws.resource.type.vm"],"os:scheduler_hints":{},"enterprise_project_id":"0","sys_tags":[{"key":"_sys_enterprise_project_id","value":"0"}],"cpu_options":{}},{"status":"ACTIVE","updated":"2025-03-21T02:46:29Z","auto_terminate_time":"","hostId":"07772cb9a6ca888d8d0f0eb2643234039534e833d77bd169164f4c94","OS-EXT-SRV-ATTR:host":"7772cb9a6ca888d8d0f0eb2643234039534e833d77bd169164f4c94","addresses":{"24bbb54c-659f-4141-8db9-a957e12b6ee8":[{"version":"4","primary":true,"addr":"192.168.5.155","OS-EXT-IPS:type":"fixed","OS-EXT-IPS-MAC:mac_addr":"fa:16:3e:90:ed:83","OS-EXT-IPS:port_id":"629b3349-16fd-4cfd-8a7b-d4538f29c403"}]},"image":{"id":"51a76dc4-0a0c-4e7c-bb01-d9dbaabe1441"},"OS-EXT-STS:vm_state":"active","OS-EXT-SRV-ATTR:instance_name":"instance-01e51f61","OS-EXT-SRV-ATTR:hypervisor_hostname":"7772cb9a6ca888d8d0f0eb2643234039534e833d77bd169164f4c94","flavor":{"id":"x1.1u.1g","name":"x1.1u.1g","disk":"0","vcpus":"1","ram":"1024","gpus":[],"asic_accelerators":[]},"id":"bac642b0-a9ca-4a13-b6b9-9e41b35905b6","security_groups":[{"name":"default","id":"21acfb26-36cd-4aa4-b42e-fe3f88bd588c"},{"name":"sg-default-smb","id":"de011f0e-d1c2-45b7-aea5-e642f12333b6"}],"OS-EXT-AZ:availability_zone":"cn-east-3a","user_id":"0b3ade293280f3614f2bc00500a76bd4","name":"ITAU\u6d4b\u8bd5\u670d\u52a1\u5668_\u52ff\u5220_w30074458","created":"2025-03-17T10:38:38Z","tenant_id":"0b3ade290700f3612f29c005b9d1eaf6","OS-DCF:diskConfig":"AUTO","accessIPv4":"","accessIPv6":"","progress":0,"OS-EXT-STS:power_state":1,"config_drive":"","metadata":{"charging_mode":"0","vpc_id":"24bbb54c-659f-4141-8db9-a957e12b6ee8","os_version":"Huawei
        Cloud EulerOS 2.0 64bit","__support_agent_list":"hss,ces","metering.imagetype":"gold","image_name":"Huawei
        Cloud EulerOS 2.0 Standard 64 bit","metering.resourcespeccode":"x1.1u.1g.linux","os_type":"Linux","metering.resourcetype":"1","metering.image_id":"51a76dc4-0a0c-4e7c-bb01-d9dbaabe1441","os_bit":"64","cascaded.instance_extrainfo":"pcibridge:1,virtio_bus_count:8","key":"value"},"OS-SRV-USG:launched_at":"2025-03-17T10:38:49.000000","os-extended-volumes:volumes_attached":[{"id":"dc79271b-110e-405e-a4f1-268b07df7e2f","delete_on_termination":"True","bootIndex":"0","device":"/dev/vda"}],"description":"","host_status":"UP","OS-EXT-SRV-ATTR:hostname":"itau-w30074458","OS-EXT-SRV-ATTR:reservation_id":"r-sf3xftbe","OS-EXT-SRV-ATTR:launch_index":0,"OS-EXT-SRV-ATTR:kernel_id":"","OS-EXT-SRV-ATTR:ramdisk_id":"","OS-EXT-SRV-ATTR:root_device_name":"/dev/vda","OS-EXT-SRV-ATTR:user_data":"IyEvYmluL2Jhc2gKZWNobyAncm9vdDokNiREOWppOXYzciRiSGR2V1lTZ011aWVEeUNqa3ZvOURDVnd0cWZnMzgxTE1XSk9VWlJ1SS82ZEZUTS9qaTFQLlh2S2hiS1c0YUR1aWNPSXZRYkZUSHNtUUhGVXR2QTFYLycgfCBjaHBhc3N3ZCAtZTs=","locked":false,"tags":["_sys_root_resource_id=bac642b0-a9ca-4a13-b6b9-9e41b35905b6","_sys_root_resource_type=hws.resource.type.vm","_sys_type_hcss_x"],"os:scheduler_hints":{},"enterprise_project_id":"0","sys_tags":[{"key":"_sys_enterprise_project_id","value":"0"}],"cpu_options":{}},{"status":"ACTIVE","updated":"2025-03-20T20:00:08Z","auto_terminate_time":"","hostId":"4f5b329ca596574029e9bca55ed7da57642250caf14a813dd97c9369","OS-EXT-SRV-ATTR:host":"4f5b329ca596574029e9bca55ed7da57642250caf14a813dd97c9369","addresses":{"24bbb54c-659f-4141-8db9-a957e12b6ee8":[{"version":"4","primary":true,"addr":"192.168.5.235","OS-EXT-IPS:type":"fixed","OS-EXT-IPS-MAC:mac_addr":"fa:16:3e:90:ed:d3","OS-EXT-IPS:port_id":"b8ad46c4-d3ee-4d6f-ae89-7ea00e1a223c"},{"version":"4","primary":true,"addr":"123.60.64.43","OS-EXT-IPS:type":"floating","OS-EXT-IPS-MAC:mac_addr":"fa:16:3e:90:ed:d3","OS-EXT-IPS:port_id":"b8ad46c4-d3ee-4d6f-ae89-7ea00e1a223c"}]},"image":{"id":"7104a5c9-6c17-47c8-aa47-e29af68fd34e"},"OS-EXT-STS:vm_state":"active","OS-EXT-SRV-ATTR:instance_name":"instance-01e482fa","OS-EXT-SRV-ATTR:hypervisor_hostname":"4f5b329ca596574029e9bca55ed7da57642250caf14a813dd97c9369","flavor":{"id":"x1e.4u.6g","name":"x1e.4u.6g","disk":"0","vcpus":"4","ram":"6144","gpus":[],"asic_accelerators":[]},"id":"b834c375-7231-482e-a87b-3fba804435b4","security_groups":[{"name":"default","id":"21acfb26-36cd-4aa4-b42e-fe3f88bd588c"}],"OS-EXT-AZ:availability_zone":"cn-east-3c","user_id":"0b3ade293280f3614f2bc00500a76bd4","name":"\u5df4\u897fITAU\u9879\u76ee_330\u524d\u52ff\u5220_w30074458","created":"2025-03-15T13:01:52Z","tenant_id":"0b3ade290700f3612f29c005b9d1eaf6","OS-DCF:diskConfig":"AUTO","accessIPv4":"","accessIPv6":"","progress":0,"OS-EXT-STS:power_state":1,"config_drive":"","metadata":{"lockScene":"","charging_mode":"0","vpc_id":"24bbb54c-659f-4141-8db9-a957e12b6ee8","metering.productcode":"e10d539e-be5d-45ca-8cb5-468c3f5bef70.4c","os_version":"Windows
        Server 2019 Datacenter 64bit","lockSource":"","lockSourceId":"","bandwidth_id":"e314ad4f-cfc3-47a3-9572-ec26fee619d7","metering.imagetype":"market","image_name":"Windows
        Server 2019 \u6570\u636e\u4e2d\u5fc3\u7248 64\u4f4d \u82f1\u6587_40GB/\u6df1\u5733\u5e02\u4f0a\u767b\u8f6f\u4ef6\u6709\u9650\u516c\u53f8","bandwidth_size":"5","metering.resourcespeccode":"x1e.4u.6g.win","os_type":"Windows","metering.resourcetype":"1","metering.image_id":"7104a5c9-6c17-47c8-aa47-e29af68fd34e","os_bit":"64","lockCheckEndpoint":"","eip_id":"6a348021-e35f-40b7-ae76-34c19c78613e","cascaded.instance_extrainfo":"pcibridge:1,virtio_bus_count:8,clock_adjustment:28800"},"OS-SRV-USG:launched_at":"2025-03-15T13:02:02.000000","os-extended-volumes:volumes_attached":[{"id":"4d7dc505-cc70-4f94-8d61-69de5b14b60f","delete_on_termination":"True","bootIndex":"0","device":"/dev/vda"}],"description":"","host_status":"UP","OS-EXT-SRV-ATTR:hostname":"itau-330-w30074458","OS-EXT-SRV-ATTR:reservation_id":"r-kqxp4qzb","OS-EXT-SRV-ATTR:launch_index":0,"OS-EXT-SRV-ATTR:kernel_id":"","OS-EXT-SRV-ATTR:ramdisk_id":"","OS-EXT-SRV-ATTR:root_device_name":"/dev/vda","locked":false,"tags":["_sys_root_resource_id=b834c375-7231-482e-a87b-3fba804435b4","_sys_root_resource_type=hws.resource.type.vm","_sys_type_hcss_x"],"os:scheduler_hints":{},"enterprise_project_id":"0","sys_tags":[{"key":"_sys_enterprise_project_id","value":"0"}],"cpu_options":{}}],"count":5,"request_id":"abc"}'
    headers:
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 22 Mar 2025 04:48:09 GMT
      Server:
      - CloudWAF
      Set-Cookie:
      - HWWAFSESTIME=1742618889246; path=/
      - HWWAFSESID=7f98573f907fc11c90; path=/
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains;
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - 8d0b3df050df4982e39cda6ac1159be3
      X-XSS-Protection:
      - 1; mode=block;
    status:
      code: 200
      message: OK
- request:
    body: '{"os-stop": {"servers": [{"id": "bac642b0-a9ca-4a13-b6b9-9e41b35905b6"}],
      "type": "SOFT"}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '90'
      Content-Type:
      - application/json;charset=utf-8
      Host:
      - ecs.ap-southeast-1.myhuaweicloud.com
      User-Agent:
      - huaweicloud-usdk-python/3.0
      X-Project-Id:
      - ap-southeat-1
      X-Sdk-Date:
      - 20250322T045148Z
    method: POST
    uri: https://ecs.ap-southeast-1.myhuaweicloud.com/v1/ap-southeat-1/cloudservers/action
  response:
    body:
      string: '{"job_id": "abc"}'
    headers:
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 22 Mar 2025 04:51:48 GMT
      Server:
      - CloudWAF
      Set-Cookie:
      - HWWAFSESTIME=1742619103580; path=/
      - HWWAFSESID=99dc87c13fa7b0113c; path=/
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains;
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - 8f8a57a652034a4717cb02ca43e3488d
      X-XSS-Protection:
      - 1; mode=block;
    status:
      code: 200
      message: OK

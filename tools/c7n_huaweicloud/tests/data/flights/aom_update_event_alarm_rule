interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Host:
      - aom.ap-southeast-1.myhuaweicloud.com
      User-Agent:
      - huaweicloud-usdk-python/3.0
      X-Project-Id:
      - ap-southeat-1
      X-Sdk-Date:
      - 20250514T033046Z
    method: GET
    uri: https://aom.ap-southeast-1.myhuaweicloud.com/v4/ap-southeat-1/alarm-rules
  response:
    body:
      string: '{ "alarm_rules": [ { "alarm_create_time": 1711458243395, "alarm_notifications":
        { "bind_notification_rule_id": "", "notification_enable": false, "notification_type":
        "direct", "notify_frequency": 0, "notify_resolved": false, "notify_triggered":
        false, "route_group_enable": false, "route_group_rule": "" }, "alarm_rule_description":
        "", "alarm_rule_enable": false, "alarm_rule_id": 1, "alarm_rule_name": "aom_alarm_rule_1",
        "alarm_rule_status": "Invalid", "alarm_rule_type": "event", "alarm_update_time":
        0, "enterprise_project_id": "0", "event_alarm_spec":
      {"alarm_source": "systemEvent", "event_source": "LTS", "monitor_objects": [{"event_type":
      "fault", "event_severity": "warning"}], "prom_instance_id": "90e***88-1**4-4**9-9**3-1f*******cd3", "user_id":
        "2a****56****48****73****1b****cf" } ], "count": 29, "metadata": { "alarm_rule_template_id":
        [

        ], "bind_notification_rule_id": [ "aom_notification_rule", "1", "00********qq",
        "00*****3", "m***m" ], "event_source": [ "CCE", "DCS", "ES", "AOM" ], "prom_instance_id":
        [ "0", "796***7d-1**8-4**9-a**0-99*******ca0", "6cc***c8-f**f-4**4-9**2-90*******fcf",
        "90e***88-1**4-4**9-9**3-1f*******cd3" ], "resource_kind": [ "HC:DCS:REDIS_3.0",
        "CCE", "HC:ES:METRICS", "AOM" ] } }'
    headers:
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Wed, 14 May 2025 03:30:46 GMT
      Server:
      - CloudWAF
      Set-Cookie:
      - HWWAFSESTIME=1747193445484; path=/
      - HWWAFSESID=dbbfc7ca58d5154d82; path=/
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains;
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - f1df4b71c8d90b40ead2129601d0565a
      X-XSS-Protection:
      - 1; mode=block;
    status:
      code: 200
      message: success
- request:
    body: '{"alarm_rule_name": "aom_alarm_rule_1", "alarm_rule_type": "event", "event_alarm_spec":
      {"alarm_source": "systemEvent", "event_source": "AOM", "monitor_objects": [{"event_type":
      "fault", "event_severity": "warning"}], "trigger_conditions": [{}]}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '246'
      Content-Type:
      - application/json
      Host:
      - aom.ap-southeast-1.myhuaweicloud.com
      User-Agent:
      - huaweicloud-usdk-python/3.0
      X-Project-Id:
      - ap-southeat-1
      X-Sdk-Date:
      - 20250514T064204Z
    method: POST
    uri: https://aom.ap-southeast-1.myhuaweicloud.com/v4/ap-southeat-1/alarm-rules?action_id=update-alarm-action
  response:
    body:
      string: '{
  "alarm_rules" : [ {
    "alarm_rule_name" : "aom_alarm_rule_1",
    "result" : "success"
  } ],
  "error_code" : "200",
  "error_message" : "success"
}
        '
    headers:
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Wed, 14 May 2025 06:42:04 GMT
      Server:
      - CloudWAF
      Set-Cookie:
      - HWWAFSESID=965627f39aa890a362; path=/
      - HWWAFSESTIME=1747204919763; path=/
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains;
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - 7c00303f551168e65eb91fc3c4bbb3e2
      X-XSS-Protection:
      - 1; mode=block;
    status:
      code: 200
      message: success
version: 1
